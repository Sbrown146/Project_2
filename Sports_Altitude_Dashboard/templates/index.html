 <!-- Project 2 Altitude and Professional Sports
 Brad, Cathryn and Scott
 HTML -->

<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Effects of Altitude on Professional Sports</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/superhero/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="https://bootswatch.com/4/solar/bootstrap.min.css"> -->
  <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
  integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
  crossorigin=""></script>
  <link rel="stylesheet" type="text/css" href="static/css/style.css">

  <link rel="shortcut icon" href="static/js/favicon.ico" type="image/x-icon">
  <link rel="icon" href="static/js/favicon.ico" type="image/x-icon">
</head>

<body data-ng-controller="MapCtrl">
      <div class="col-md-12 jumbotron text-center" style="width: 87%; margin: 0 auto; border-radius: 5px;">
          <h1>Effects of Altitude on Professional Sports</h1>
          <p>An analytical and visual look into the advantage that altitude provides for athletes while hosting sports events. </p>
        </div>
            
  <div class="container">
    <div class="row">
        <div class="col-md-3">
          <div class="well" style="background-color:rgb(73, 116, 172); border-radius: 5px;">
          <!-- <div class="well" style="background-color:rgb(0, 64, 83); border-radius: 5px; color:rgb(249, 249, 249);"> -->
            <h4>Select a League:</h4>
            <select id="League_select" onchange="option_League(this.value)" style="width:100%; color:grey;"></select>
            <h4>Select Team:</h4>
            <select id="Team_select" onchange="option_Team(this.value)" style="width:100%; color:grey;"></select>
          </div>
          <div class="panel panel-primary" style="border-radius: 5px;">
            <div class="panel-heading" style="background-color:rgb(73, 116, 172); border-radius: 5px 5px 0px 0px;">
            <!-- <div class="panel-heading" style="background-color:rgb(0, 64, 83); border-radius: 5px; color:rgb(249, 249, 249);"> -->
              <h3 class="panel-title">Stats for:</h3>
            </div>
            <div id="option-data" class="panel-body"></div>
          </div>
        </div>
      
        <!-- 1st Graph -->
        <div class="col-md-5">
          <div id="graph1"></div>
      </div>

      <!-- 2nd Graph -->
      <div class="col-md-4">
          <div id="graph2"></div>
    </div>
    </div>
    </div>
      <!-- 2nd Graph -->
        <!-- <div class="col-md-3">
          <div id="graph2"></div>
        </div> -->
    
      <div id="map-header"></div>
        <div id="map-container">
           <div id='map'>
           </div>
        </div>

        <div class="jumbotron" style="width: 87%; margin: 0 auto; border-radius: 5px;">
          <ul class="nav nav-tabs" style="margin-top:-40px;">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="tab" href="#home" style="background-color:rgb(73, 116, 172);">Conclusion</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#contact" style="background-color:rgb(73, 116, 172);">Altitude Studies</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#random" style="background-color:rgb(73, 116, 172);">Sports Randomness</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#sim" style="background-color:rgb(73, 116, 172);">Simulation</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#ref" style="background-color:rgb(73, 116, 172);">References</a>
            </li>
          </ul>
          
        <div class="container-fluid">
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="home">
              <!-- <div class="alert alert-info">Conclusion</div> -->
                <p>We sought to replicate the outcome of the sports randomness case study and our findings with the real and simulated data lead to a good starting point as the correlations for home win % vs altitude for all 4 leagues lined up with the conclusions of the case study though none of those correlation were significant.
                <p>This could simply be due to the limitation of just using home win %.  Further filtering of the data to look at other conditions such as win/loss streaks, playing similar strength opponents, east coast vs west coast, and travel/off days could help to further confirm our initial suspicions.</p>
                <p>Despite this, there are many cases to show that altitude could have an impact on professional sports teams.  The original idea to determine this came from observing the Bolivia National Football Team who despite not being a football powerhouse, are unbeaten at home so far in the 2019 season.  The general concensus is that their stadium, which stands at 11,932 feet, is a huge reason for their home success.</p>
                <a target="_blank" rel="noopener noreferrer" href="https://us.soccerway.com/teams/bolivia/bolivia/298/">Bolivia National Football Team 2019 Record</a></br>
                <img src="static/js/Hernando_Siles_Stadium.jpg" height="500" width="1130" class="pic">
            </div>
              <div role="tabpanel" class="tab-pane fade" id="contact">
            <!-- <div class="alert alert-info">Altitude</div> -->
                <p>There have been several studies that suggest that athletics who consistently train at high altitudes have an advantage over those who do not due to an increased erythropoietin (EPO) affect that last for 10 to 20 days after training at high altitudes.</p>
                <p>Further information on Athletic Performance and Elevation:</p>
                <a target="_blank" rel="noopener noreferrer" href="https://www.livescience.com/32750-why-do-athletes-train-at-high-altitudes.html">Live Science article regarding athletics and high altitude</a></br>
                <a target="_blank" rel="noopener noreferrer" href="http://www.canberra.edu.au/researchrepository/file/0ec194b7-4e67-bbaa-bb32-0f0dc6eaab4b/1/full_text.pdf">Case study on the physiological and performance effects of altitude training and exposure in elite athletes from the University of Canberra</a>
              </div>
            <div role="tabpanel" class="tab-pane fade" id="random">
              <!-- <div class="alert alert-info">Random</div> -->
              <p>The outcomes of sports events are hotly contested.  How often are the outcomes of these events for each league truly random?  3 professors from Smith College, Skidmore College and Loyola University Chicago made a broad case study to determine the answer to this question.  Their datasets were used for the above simulation in an effort to replicate their findings.</p>
              <a target="_blank" rel="noopener noreferrer" href="https://github.com/bigfour/competitiveness">Link to their Github Repository to see just how far the rabbit hole goes</a>
              <p>Their findings are summarized with this picture:</p>
              <img src="static/js/Sports_outcomes.png" height="300" width="600" class="pic">
              </div>
            <div role="tabpanel" class="tab-pane fade" id="sim">
              <p>Monte Carlo simulation is used for the simulation probability of a team winning at home against an opponent with a similar record.  Football can be used to describe the simulation process:</p></br>
              <p>Lets say that a football team plays 8 home games of which 5 are against opponents with a comparable record.  Their winning percentage over those 5 games are taken and simulated over a specific period (5 seasons in the above data so 25 total games).  This process is then repeated 10,000 times to get summary statistics for what the probability variance should be.</p>
              <p>If a teams win probability is 60%, the process will look like this (repeated 10,000 times):</p> </br>
              <img src="static/js/MC_pic.png" height="250" width="1130" class="pic">
              <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Monte_Carlo_method">More about Monte Carlo Simulation from the most reliable source on the internet</a>
              <!-- <div class="alert alert-info">Sim</div> -->
            </div> 
            <div role="tabpanel" class="tab-pane fade" id="ref">
              <a target="_blank" rel="noopener noreferrer" href="https://github.com/bigfour/competitiveness/tree/master/data">Data sets used for all 4 sports leagues from 2008-2015</a> </br>
              <a target="_blank" rel="noopener noreferrer" href="https://sportsdata.io/">GeoJson Latitude and Longitude for all 4 sports leauges and MLB stadium elevation</a> </br>
              <a target="_blank" rel="noopener noreferrer" href="https://www.answers.com/Q/All_NFL_stadiums_in_order_of_elevation">NFL stadium elevation</a> </br>
              <a target="_blank" rel="noopener noreferrer" href="https://i.imgur.com/aYVFJi5.png">NBA stadium elevation</a> </br>
              <a target="_blank" rel="noopener noreferrer" href="static/js/NHL-Arena-Altitudes-NHL-teams-participating-in-the-2013-2017-seasons-Altitude-ft-and.png">NHL stadium elevation</a> </br>
              <a target="_blank" rel="noopener noreferrer" href="static/js/Football.png">How the NFL simulation Should Look</a>
            </div>
        </div>
      </div>
    </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.4/js/tether.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/js/bootstrap.min.js"></script>

    </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script type="text/javascript" src="static/js/config.js"></script>
  <script type="text/javascript" src="static/js/app.js"></script>

</html>
